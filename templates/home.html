{% extends "layout.html" %}
{% block title %}
    Home
{% endblock %}
{% block content %}
    <div class = "header">
    <h1>Control Pane</h1>
    </div>


    <div>
    <div>
        <p id =descriptor>The robot has been initialized</p>
        <a href=tutorial class="tutorial-button">Help</a>
    </div>

        <button id="walk" class="walk_button">Begin Walking</button>
    <a href=pre-recorded class="button">Execute Movements</a>
        <a href=record-new class="button">Record New Movement</a>

{#        <button id="left-hand" class = "hand-button">Move Left Hand</button>#}
{#        <button id="right-hand" class = "hand-button">Move Right Hand</button>#}

        <button id="closeHand" class="move_button">Close</button>
        <button id="openHand" class="move_button">Open</button>
    </div>
    <script>

    function clearQueue() {
        localStorage.removeItem("queue");
        document.getElementById("closeHand").style.display = 'none'
        document.getElementById("openHand").style.display = 'none'
    }
    window.onload = clearQueue

    var button = document.getElementById("walk");
        button.addEventListener("click", function (e) {
            console.log("Walk clicked");
            e.preventDefault();
            const request = new XMLHttpRequest();
            request.onload = function () {
                document.getElementById('descriptor').innerHTML = request.response;
            };
            request.open("GET", "/walk-toggle", true);
            request.send();
        });

        var openHandButton = document.getElementById("openHand");
        openHandButton.addEventListener("click", function (e) {
            console.log("Opening Hand");
            e.preventDefault();
            const request = new XMLHttpRequest();
            request.onload = function () {
                document.getElementById('handMessage').innerHTML = request.response;
            };
            request.open("GET", "/open-hand/", true);
            request.send();
        });

        var closeHandButton = document.getElementById("closeHand");
        closeHandButton.addEventListener("click", function (e) {
            console.log("Closing Hand");
            e.preventDefault();
            const request = new XMLHttpRequest();
            request.onload = function () {
                document.getElementById('handMessage').innerHTML = request.response;
            };
            request.open("GET", "/close-hand/", true);
            request.send();
        });

        var stopHandButton = document.getElementById("stopHand");
        stopHandButton.addEventListener("click", function (e) {
            console.log("Stopping Hand");
            e.preventDefault();
            const request = new XMLHttpRequest();
            request.onload = function () {
                document.getElementById('handMessage').innerHTML = request.response;
            };
            request.open("GET", "/stop-hand/", true);
            request.send();
        });
    </script>
{% endblock %}